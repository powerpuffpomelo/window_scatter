# 窗口打散算法实验报告

## 算法思路
- 滑动窗口，每次向右移动一格，纳入一个新item；
- 用三个哈希表来动态维护窗口内的三个特征出现情况，用于检查规则；
- 如果新item不满足规则，就一直向右找，直到找到第一个满足规则限制的item，然后将其插入到当前位置；
- 如果直到列表结尾都无法找到满足规则限制的item，就记录失败的规则，继续滑动窗口。
- 本算法尽可能维护推荐顺序，时间复杂度最坏情况下O(n^2)

## 实验结果
| 参数设置   |        |        |        | 执行时间（秒） | 打散效果    |         |         |         | 总结                         |
|--------|--------|--------|--------|---------|---------|---------|---------|---------|----------------------------|
| 视频列表长度 | 打散作者规则 | 打散品类规则 | 打散音乐规则 |         | 所有规则成功率 | 打散作者成功率 | 打散品类成功率 | 打散音乐成功率 |                            |
| 20     | 8出2    | 8出3    | 8出1    | 1.4608  | 0.7451  | 0.9998  | 0.9972  | 0.7475  | 打散成功率受限于音乐，100种选择要求8出1很难   |
| 20     | 8出2    | 8出3    | 8出2    | 1.1564  | 0.9924  | 0.9998  | 0.9977  | 0.9949  | 如果把音乐8出1改成8出2，则成功率大幅提升     |
| 20     | 8出1    | 8出3    | 8出2    | 1.2092  | 0.9661  | 0.9731  | 0.9977  | 0.9949  | 作者因为数量较多，所以改成8出1也不会很影响成功率  |
| 1000   | 8出2    | 8出3    | 8出1    | 40.5421 | 0.744   | 1       | 0.9983  | 0.7453  | 视频列表长度对打散成功率影响较小           |
